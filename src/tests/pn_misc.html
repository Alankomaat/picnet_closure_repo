<!doctype html>
<html>
  <head>
    <meta http-equiv="cache-control" content="max-age=0" />
    <meta http-equiv="cache-control" content="no-cache" />
    <meta http-equiv="expires" content="0" />
    <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
    <meta http-equiv="pragma" content="no-cache" />
  </head>
  <body>
    <script src="http://localhost/shared/closure-library/closure/goog/base.js"></script>
    <script src="../deps.js"></script>
    <script>
goog.require('goog.testing.jsunit');
goog.require('pn');

var setUp = function() {};

var test_pnml = function() {
  var str = pn.ml(function() {    
/*
Testing
Multi-line
string
*/});
  assertEquals('Testing\nMulti-line\nstring', str);
};

var test_pnml_with_html = function() {
  var str = pn.ml(function() {    
/*
<div class="testdiv">
  Content
</div>
*/});
  assertEquals('<div class="testdiv">\n  Content\n</div>', str);
};

var test_pnml_with_model = function() {
  var str = pn.ml(function() {    
/*
P1: {$p1}
P2: {$p2}
P3: {$p3}
*/}, {
  'p1':1,
  'p2':'str2',
  'p3': { toString: function() { return 'p3obj'; } }
});
  assertEquals('P1: 1\nP2: str2\nP3: p3obj', str);
};
    </script>    
  </body>
</html>
