<!doctype html>
<html>
  <head></head>
  <body>
    <script src="http://localhost/shared/closure-library/closure/goog/base.js"></script>
    <script src="../deps.js"></script>
    <script>
goog.require('goog.testing.jsunit');
goog.require('pn.seq.Seq');
goog.require('goog.functions');

var testNullSecondThrows = function() {
  try {
    pn.seq.Seq.create([1, 2, 3]).zip(null, function(x, y) { return x; });
    assertFails('Should fail');   
  } catch (ex) {}
};

var testNullResultsSelectorThrows = function() {
  try {
    pn.seq.Seq.create([1, 2, 3]).zip(pn.seq.Seq.create([]), null);
    assertFails('Should fail');   
  } catch (ex) {}
};

var testZipReturnsSmallestOf2SequnceSize = function() {
  assertTrue(pn.seq.Seq.create([1, 2, 3]).
    zip(pn.seq.Seq.create([1]), function(x, y) { return x + y; }).
    sequenceEquals([2]));  
  assertTrue(pn.seq.Seq.create([2]).
    zip(pn.seq.Seq.create([2, 6, 8]), function(x, y) { return x + y; }).
    sequenceEquals([4]));  
};

var testZipReturnsExpectedWithLargerLists = function() {
  assertTrue(pn.seq.Seq.create([1, 2, 3]).
    zip(pn.seq.Seq.create([2, 4, 8]), function(x, y) { return '' + x + y; }).
    sequenceEquals(['12', '24', '38']));    
};

var testMultipleZips = function() {
  var seq1 = pn.seq.Seq.create([1, 2, 3]);
  var seq2 = pn.seq.Seq.create([2, 4, 8])
  assertTrue(seq1.zip(seq2, function(x, y) { return '' + x + y; }).sequenceEquals(['12', '24', '38']));    
  assertTrue(seq1.zip(seq2, function(x, y) { return '' + x + y; }).sequenceEquals(['12', '24', '38']));    
};
    </script>    
  </body>
</html>