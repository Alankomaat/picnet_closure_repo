<!doctype html>
<html>
  <head></head>
  <body>
    <script src="http://localhost/shared/closure-library/closure/goog/base.js"></script>
    <script src="../deps.js"></script>
    <script>
goog.require('goog.testing.jsunit');
goog.require('pn.seq.Seq');

var testAnyWithNullPredicateReturnsFalseIfEmpty = function() {
  assertFalse(pn.seq.Seq.create([]).any());
};

var testAnyWithNullPredicateReturnsTrueIfNotEmpty = function() {
  assertTrue(pn.seq.Seq.create([0]).any());
  assertTrue(pn.seq.Seq.create([0, 1, 2]).any());
};

var testAnyWithPredicateReturnsFalseIfEmpty = function() {
  assertFalse(pn.seq.Seq.create([]).any(function(x) { return true; }));
};

var testAnyWithPredicateReturnsFalseIfNoneMatch = function() {
  assertFalse(pn.seq.Seq.create([1, 2]).any(function(x) { return x < 0; }));
};

var testAnyWithPredicateReturnsTrueIfOneOrMoreMatch = function() {
  var seq = pn.seq.Seq.create([1, 2]);            
  assertTrue(seq.any(function(x) { return x > 1; }));
  assertTrue(seq.any(function(x) { return x > 0; }));
};

var testAllWithNullPredicateThrowsError = function() {
  try {
    pn.seq.Seq.create([1, 2]).all(null);
    assertFail('Should not allow null predicate');
  } catch (ex) {};
};

var testAllWithPredicateReturnsTrueIfEmpty = function() {
  assertTrue(pn.seq.Seq.create([]).all(function(c) { return true; }));
};

var testAllWithPredicateReturnsFalseIfNotAllMatch = function() {
  assertFalse(pn.seq.Seq.create([1, 2, 3]).all(function(x) { return x > 2; }));
};

var testAllWithPredicateReturnsTrueIfAllMatch = function() {
  assertTrue(pn.seq.Seq.create([1, 2, 3]).all(function(x) { return x > 0; }));
};

var testMultipleAlls = function() {
  var seq = pn.seq.Seq.create([1, 2, 3]);
  assertTrue(seq.all(function(x) { return x > 0; }));
  assertTrue(seq.all(function(x) { return x > 0; }));
};
    </script>    
  </body>
</html>

