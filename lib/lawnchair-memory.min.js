Lawnchair.adapter("memory",function(){var e={};return{valid:function(){return!0},init:function(a,c){e[this.name]=e[this.name]||{index:[],store:{}};this.index=e[this.name].index;this.store=e[this.name].store;var b=this.fn(this.name,c);b&&b.call(this,this);return this},keys:function(a){this.fn("keys",a).call(this,this.index);return this},save:function(a,c){var b=a.key||this.uuid();this.exists(b,function(d){d||(a.key&&delete a.key,this.index.push(b));this.store[b]=a;c&&(a.key=b,this.lambda(c).call(this,
a))});return this},batch:function(a,c){for(var b=[],d=0,f=a.length;d<f;d++)this.save(a[d],function(a){b.push(a)});c&&this.lambda(c).call(this,b);return this},get:function(a,c){var b;if(this.isArray(a)){b=[];for(var d=0,f=a.length;d<f;d++)b.push(this.store[a[d]])}else if(b=this.store[a])b.key=a;c&&this.lambda(c).call(this,b);return this},exists:function(a,c){this.lambda(c).call(this,!!this.store[a]);return this},all:function(a){for(var c=[],b=0,d=this.index.length;b<d;b++){var f=this.store[this.index[b]];
f.key=this.index[b];c.push(f)}this.fn(this.name,a).call(this,c);return this},remove:function(a,c){for(var b=this.isArray(a)?a:[a],d=0,f=b.length;d<f;d++){var e=b[d].key?b[d].key:b[d],g=this.indexOf(this.index,e);0>g||(delete this.store[e],this.index.splice(g,1))}c&&this.lambda(c).call(this);return this},nuke:function(a){this.store=e[this.name].store={};this.index=e[this.name].index=[];a&&this.lambda(a).call(this);return this}}}());